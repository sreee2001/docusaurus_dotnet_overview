<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Topics/DevOps_and_CI_CD/ApplicationInsights" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Application Insights (Observability + Instrumentation) | .NET and Azure Overview</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sreee2001.github.io/docusaurus_dotnet_overview/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://sreee2001.github.io/docusaurus_dotnet_overview/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://sreee2001.github.io/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/application_insights"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Application Insights (Observability + Instrumentation) | .NET and Azure Overview"><meta data-rh="true" name="description" content="Short Introduction"><meta data-rh="true" property="og:description" content="Short Introduction"><link data-rh="true" rel="icon" href="/docusaurus_dotnet_overview/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sreee2001.github.io/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/application_insights"><link data-rh="true" rel="alternate" href="https://sreee2001.github.io/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/application_insights" hreflang="en"><link data-rh="true" rel="alternate" href="https://sreee2001.github.io/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/application_insights" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Application Insights (Observability + Instrumentation)","item":"https://sreee2001.github.io/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/application_insights"}]}</script><link rel="alternate" type="application/rss+xml" href="/docusaurus_dotnet_overview/blog/rss.xml" title=".NET and Azure Overview RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docusaurus_dotnet_overview/blog/atom.xml" title=".NET and Azure Overview Atom Feed"><link rel="stylesheet" href="/docusaurus_dotnet_overview/assets/css/styles.bda66df9.css">
<script src="/docusaurus_dotnet_overview/assets/js/runtime~main.fd1adcca.js" defer="defer"></script>
<script src="/docusaurus_dotnet_overview/assets/js/main.1e828174.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus_dotnet_overview/"><b class="navbar__title text--truncate">Quick References</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus_dotnet_overview/docs/intro">Overviews</a><a class="navbar__item navbar__link" href="/docusaurus_dotnet_overview/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/sreee2001" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus_dotnet_overview/docs/intro"><span title="Welcome to .NET &amp; Azure Overview" class="linkLabel_WmDU">Welcome to .NET &amp; Azure Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docusaurus_dotnet_overview/docs/Topics/Fundamentals/dotnet_versions"><span title="Topics" class="categoryLinkLabel_W154">Topics</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/Fundamentals/dotnet_versions"><span title="Fundamentals" class="categoryLinkLabel_W154">Fundamentals</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/CoreDevelopment/asp_dotnet_core"><span title="CoreDevelopment" class="categoryLinkLabel_W154">CoreDevelopment</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/WebTechnologies/mvc"><span title="WebTechnologies" class="categoryLinkLabel_W154">WebTechnologies</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/DataAccessAndPersistence/entity_framework_core_advanced"><span title="DataAccessAndPersistence" class="categoryLinkLabel_W154">DataAccessAndPersistence</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/Testing/unit_testing"><span title="Testing" class="categoryLinkLabel_W154">Testing</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/PerformanceAndScalability/caching"><span title="PerformanceAndScalability" class="categoryLinkLabel_W154">PerformanceAndScalability</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/CloudTechnologies/azure_app_service"><span title="CloudTechnologies" class="categoryLinkLabel_W154">CloudTechnologies</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/ContainerizationAndOrchestration/docker"><span title="ContainerizationAndOrchestration" class="categoryLinkLabel_W154">ContainerizationAndOrchestration</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/azure_devops"><span title="DevOps_and_CI_CD" class="categoryLinkLabel_W154">DevOps_and_CI_CD</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/azure_devops"><span title="Azure DevOps" class="linkLabel_WmDU">Azure DevOps</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/github_actions"><span title="GitHub Actions" class="linkLabel_WmDU">GitHub Actions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/application_insights"><span title="Application Insights (Observability + Instrumentation)" class="linkLabel_WmDU">Application Insights (Observability + Instrumentation)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/HealthChecks"><span title="HealthChecks" class="linkLabel_WmDU">HealthChecks</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/Microservices/MicroservicesArchitecture"><span title="Microservices" class="categoryLinkLabel_W154">Microservices</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/Security/IdentityServer"><span title="Security" class="categoryLinkLabel_W154">Security</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docusaurus_dotnet_overview/docs/Topics/AdvancedTopics/gRPC"><span title="AdvancedTopics" class="categoryLinkLabel_W154">AdvancedTopics</span></a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus_dotnet_overview/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Topics</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DevOps_and_CI_CD</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Application Insights (Observability + Instrumentation)</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Application Insights (Observability + Instrumentation)</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="short-introduction">Short Introduction<a href="#short-introduction" class="hash-link" aria-label="Direct link to Short Introduction" title="Direct link to Short Introduction" translate="no">​</a></h2>
<p>Application Insights is Azure&#x27;s application performance management (APM) service that provides real-time monitoring, diagnostics, and analytics for .NET applications. It automatically collects telemetry data including requests, dependencies, exceptions, and custom metrics, enabling developers to detect issues, optimize performance, and understand user behavior.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="official-definition">Official Definition<a href="#official-definition" class="hash-link" aria-label="Direct link to Official Definition" title="Direct link to Official Definition" translate="no">​</a></h2>
<p>&quot;Application Insights, a feature of Azure Monitor, is an extensible Application Performance Management (APM) service for developers and DevOps professionals. Use it to monitor your live applications automatically.&quot;</p>
<p>Application Insights is a feature of Azure Monitor that provides extensible application performance management (APM) and monitoring for live web applications. It works for apps on a wide variety of platforms including .NET, Node.js, Java, and Python hosted on-premises, hybrid, or any public cloud.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-and-deployment">Setup and Deployment<a href="#setup-and-deployment" class="hash-link" aria-label="Direct link to Setup and Deployment" title="Direct link to Setup and Deployment" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-cli-setup">Azure CLI Setup<a href="#azure-cli-setup" class="hash-link" aria-label="Direct link to Azure CLI Setup" title="Direct link to Azure CLI Setup" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create Application Insights resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az monitor app-insights component create --app myapp --location eastus --resource-group myResourceGroup --application-type web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Get instrumentation key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az monitor app-insights component show --app myapp --resource-group myResourceGroup --query instrumentationKey</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bicep-template">Bicep Template<a href="#bicep-template" class="hash-link" aria-label="Direct link to Bicep Template" title="Direct link to Bicep Template" translate="no">​</a></h3>
<div class="language-bicep codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bicep codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource appInsights &#x27;Microsoft.Insights/components@2020-02-02&#x27; = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;myapp-insights&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  location: resourceGroup().location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  kind: &#x27;web&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  properties: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Application_Type: &#x27;web&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Flow_Type: &#x27;Bluefield&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Request_Source: &#x27;rest&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output instrumentationKey string = appInsights.properties.InstrumentationKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output connectionString string = appInsights.properties.ConnectionString</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimal-sample-deploy-aspnet-core-app-to-app-service-with-application-insights">Minimal Sample: Deploy ASP.NET Core App to App Service with Application Insights<a href="#minimal-sample-deploy-aspnet-core-app-to-app-service-with-application-insights" class="hash-link" aria-label="Direct link to Minimal Sample: Deploy ASP.NET Core App to App Service with Application Insights" title="Direct link to Minimal Sample: Deploy ASP.NET Core App to App Service with Application Insights" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RESOURCE_GROUP=&quot;hotel-demo-rg&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_NAME=&quot;hotel-api-$(date +%s)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCATION=&quot;eastus&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_SERVICE_PLAN=&quot;hotel-plan&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create resource group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az group create --name $RESOURCE_GROUP --location $LOCATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create App Service plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az appservice plan create --name $APP_SERVICE_PLAN --resource-group $RESOURCE_GROUP --sku B1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create Application Insights</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az monitor app-insights component create \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --app $APP_NAME-insights \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --location $LOCATION \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --resource-group $RESOURCE_GROUP \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --application-type web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Get Application Insights connection string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INSIGHTS_CONNECTION=$(az monitor app-insights component show \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --app $APP_NAME-insights \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --resource-group $RESOURCE_GROUP \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --query connectionString -o tsv)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create web app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az webapp create \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --resource-group $RESOURCE_GROUP \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --plan $APP_SERVICE_PLAN \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --name $APP_NAME \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --runtime &quot;DOTNET|8.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Configure Application Insights</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az webapp config appsettings set \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --resource-group $RESOURCE_GROUP \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --name $APP_NAME \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --settings &quot;APPLICATIONINSIGHTS_CONNECTION_STRING=$INSIGHTS_CONNECTION&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Deploy app (assuming you have a zip package)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># az webapp deployment source config-zip --resource-group $RESOURCE_GROUP --name $APP_NAME --src app.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;App deployed to: https://$APP_NAME.azurewebsites.net&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Application Insights: https://portal.azure.com/#@/resource/subscriptions/.../resourceGroups/$RESOURCE_GROUP/providers/Microsoft.Insights/components/$APP_NAME-insights&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="typical-usage-and-integration-with-net-apps">Typical Usage and Integration with .NET Apps<a href="#typical-usage-and-integration-with-net-apps" class="hash-link" aria-label="Direct link to Typical Usage and Integration with .NET Apps" title="Direct link to Typical Usage and Integration with .NET Apps" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nuget-packages">NuGet Packages<a href="#nuget-packages" class="hash-link" aria-label="Direct link to NuGet Packages" title="Direct link to NuGet Packages" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet add package Microsoft.ApplicationInsights.AspNetCore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet add package Microsoft.ApplicationInsights.PerfCounterCollector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotnet add package Microsoft.ApplicationInsights.EventCounterCollector</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-configuration">Basic Configuration<a href="#basic-configuration" class="hash-link" aria-label="Direct link to Basic Configuration" title="Direct link to Basic Configuration" translate="no">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// appsettings.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ApplicationInsights&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;ConnectionString&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;InstrumentationKey=your-instrumentation-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;EnableAdaptiveSampling&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;EnableQuickPulseMetricStream&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;EnableAuthenticationTrackingJavaScript&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Logging&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;LogLevel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Default&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Information&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Microsoft&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Warning&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Microsoft.Hosting.Lifetime&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Information&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;ApplicationInsights&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;LogLevel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;Default&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Information&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;Microsoft&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Warning&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="programcs-configuration">Program.cs Configuration<a href="#programcs-configuration" class="hash-link" aria-label="Direct link to Program.cs Configuration" title="Direct link to Program.cs Configuration" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.ApplicationInsights.Extensibility;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var builder = WebApplication.CreateBuilder(args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add Application Insights</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Services.AddApplicationInsightsTelemetry(options =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options.ConnectionString = builder.Configuration.GetConnectionString(&quot;ApplicationInsights&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options.EnableAdaptiveSampling = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options.EnableQuickPulseMetricStream = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options.EnableAuthenticationTrackingJavaScript = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add custom telemetry initializers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Services.AddSingleton&lt;ITelemetryInitializer, CustomTelemetryInitializer&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add telemetry processors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Services.AddApplicationInsightsTelemetryProcessor&lt;CustomTelemetryProcessor&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var app = builder.Build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Enable Application Insights middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.UseApplicationInsightsRequestTelemetry();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.MapControllers();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.Run();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Custom Telemetry Initializer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class CustomTelemetryInitializer : ITelemetryInitializer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Initialize(ITelemetry telemetry)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        telemetry.Context.Cloud.RoleName = &quot;HotelManagement.API&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        telemetry.Context.Component.Version = &quot;1.0.0&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add custom properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (telemetry is ISupportProperties supportProperties)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            supportProperties.Properties[&quot;Environment&quot;] = Environment.GetEnvironmentVariable(&quot;ASPNETCORE_ENVIRONMENT&quot;) ?? &quot;Unknown&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            supportProperties.Properties[&quot;MachineName&quot;] = Environment.MachineName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Custom Telemetry Processor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class CustomTelemetryProcessor : ITelemetryProcessor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ITelemetryProcessor Next { get; set; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public CustomTelemetryProcessor(ITelemetryProcessor next)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Next = next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Process(ITelemetry item)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Filter out health check requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (item is RequestTelemetry request &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            request.Url?.AbsolutePath?.Contains(&quot;/health&quot;) == true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return; // Don&#x27;t process health check requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add custom logic here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (item is DependencyTelemetry dependency)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Mask sensitive data in SQL commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (dependency.Type == &quot;SQL&quot; &amp;&amp; !string.IsNullOrEmpty(dependency.Data))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dependency.Data = MaskSensitiveData(dependency.Data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Next.Process(item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private string MaskSensitiveData(string data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Implement your masking logic here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return data.Replace(&quot;password&quot;, &quot;***&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-telemetry-collection">Advanced Telemetry Collection<a href="#advanced-telemetry-collection" class="hash-link" aria-label="Direct link to Advanced Telemetry Collection" title="Direct link to Advanced Telemetry Collection" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-telemetry-tracking-service">Custom Telemetry Tracking Service<a href="#custom-telemetry-tracking-service" class="hash-link" aria-label="Direct link to Custom Telemetry Tracking Service" title="Direct link to Custom Telemetry Tracking Service" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Services/TelemetryService.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TelemetryService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly TelemetryClient _telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly ILogger&lt;TelemetryService&gt; _logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public TelemetryService(TelemetryClient telemetryClient, ILogger&lt;TelemetryService&gt; logger)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient = telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger = logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void TrackCustomEvent(string eventName, Dictionary&lt;string, string&gt; properties = null, Dictionary&lt;string, double&gt; metrics = null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient.TrackEvent(eventName, properties, metrics);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void TrackBusinessMetric(string metricName, double value, Dictionary&lt;string, string&gt; properties = null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient.TrackMetric(metricName, value, properties);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void TrackUserAction(string actionName, string userId, Dictionary&lt;string, string&gt; additionalProperties = null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var properties = new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;UserId&quot;] = userId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;Action&quot;] = actionName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [&quot;Timestamp&quot;] = DateTime.UtcNow.ToString(&quot;O&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (additionalProperties != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach (var prop in additionalProperties)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                properties[prop.Key] = prop.Value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient.TrackEvent(&quot;UserAction&quot;, properties);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public IDisposable StartOperation(string operationName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _telemetryClient.StartOperation&lt;RequestTelemetry&gt;(operationName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void TrackDependency(string dependencyType, string target, string dependencyName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DateTime startTime, TimeSpan duration, bool success)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient.TrackDependency(dependencyType, target, dependencyName,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            startTime, duration, success);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1-controller-integration">Example 1: Controller Integration<a href="#example-1-controller-integration" class="hash-link" aria-label="Direct link to Example 1: Controller Integration" title="Direct link to Example 1: Controller Integration" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ApiController]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Route(&quot;api/[controller]&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BookingController : ControllerBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly IBookingService _bookingService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly TelemetryService _telemetryService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BookingController(IBookingService bookingService, TelemetryService telemetryService)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _bookingService = bookingService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryService = telemetryService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [HttpPost]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task&lt;IActionResult&gt; CreateBooking([FromBody] CreateBookingRequest request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using var operation = _telemetryService.StartOperation(&quot;CreateBooking&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var booking = await _bookingService.CreateAsync(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Track business metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryService.TrackBusinessMetric(&quot;BookingsCreated&quot;, 1, new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;RoomType&quot;] = request.RoomType,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;Duration&quot;] = (request.CheckOut - request.CheckIn).TotalDays.ToString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Track user action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryService.TrackUserAction(&quot;CreateBooking&quot;, request.CustomerId, new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;BookingId&quot;] = booking.Id.ToString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;RoomType&quot;] = request.RoomType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return Ok(booking);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (Exception ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryService.TrackCustomEvent(&quot;BookingCreationFailed&quot;, new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;Error&quot;] = ex.Message,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;CustomerId&quot;] = request.CustomerId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2-orders-controller">Example 2: Orders Controller<a href="#example-2-orders-controller" class="hash-link" aria-label="Direct link to Example 2: Orders Controller" title="Direct link to Example 2: Orders Controller" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ApiController]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Route(&quot;api/[controller]&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OrdersController : ControllerBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly TelemetryClient _telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly ILogger&lt;OrdersController&gt; _logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public OrdersController(TelemetryClient telemetryClient, ILogger&lt;OrdersController&gt; logger)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient = telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger = logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [HttpPost]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task&lt;IActionResult&gt; CreateOrder([FromBody] CreateOrderRequest request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using var operation = _telemetryClient.StartOperation&lt;RequestTelemetry&gt;(&quot;CreateOrder&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add custom properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryClient.TrackEvent(&quot;OrderCreationStarted&quot;, new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;CustomerId&quot;] = request.CustomerId.ToString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;OrderValue&quot;] = request.TotalAmount.ToString(&quot;C&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Track custom metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryClient.TrackMetric(&quot;OrderValue&quot;, request.TotalAmount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Simulate order processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var stopwatch = Stopwatch.StartNew();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await ProcessOrderAsync(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stopwatch.Stop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Track dependency call</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryClient.TrackDependency(&quot;Database&quot;, &quot;CreateOrder&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DateTime.UtcNow.Subtract(stopwatch.Elapsed), stopwatch.Elapsed, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryClient.TrackEvent(&quot;OrderCreated&quot;, new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;OrderId&quot;] = &quot;12345&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;ProcessingTimeMs&quot;] = stopwatch.ElapsedMilliseconds.ToString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return Ok(new { OrderId = 12345 });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (Exception ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryClient.TrackException(ex, new Dictionary&lt;string, string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;CustomerId&quot;] = request.CustomerId.ToString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                [&quot;Operation&quot;] = &quot;CreateOrder&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _logger.LogError(ex, &quot;Failed to create order for customer {CustomerId}&quot;, request.CustomerId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return StatusCode(500, &quot;Order creation failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private async Task ProcessOrderAsync(CreateOrderRequest request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Simulate processing time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await Task.Delay(Random.Shared.Next(100, 500));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Simulate occasional errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Random.Shared.NextDouble() &lt; 0.1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new InvalidOperationException(&quot;Simulated order processing error&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-telemetry-middleware">Custom Telemetry Middleware<a href="#custom-telemetry-middleware" class="hash-link" aria-label="Direct link to Custom Telemetry Middleware" title="Direct link to Custom Telemetry Middleware" translate="no">​</a></h2>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ApplicationInsightsMiddleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly RequestDelegate _next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly TelemetryClient _telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ApplicationInsightsMiddleware(RequestDelegate next, TelemetryClient telemetryClient)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _next = next;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient = telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task InvokeAsync(HttpContext context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var startTime = DateTime.UtcNow;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var stopwatch = Stopwatch.StartNew();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await _next(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        finally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stopwatch.Stop();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Track custom request telemetry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var telemetry = new RequestTelemetry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Name = $&quot;{context.Request.Method} {context.Request.Path}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Url = new Uri($&quot;{context.Request.Scheme}://{context.Request.Host}{context.Request.Path}{context.Request.QueryString}&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Timestamp = startTime,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Duration = stopwatch.Elapsed,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ResponseCode = context.Response.StatusCode.ToString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Success = context.Response.StatusCode &lt; 400</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add custom properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            telemetry.Properties[&quot;UserAgent&quot;] = context.Request.Headers[&quot;User-Agent&quot;].ToString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            telemetry.Properties[&quot;ClientIP&quot;] = context.Connection.RemoteIpAddress?.ToString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _telemetryClient.TrackRequest(telemetry);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="structured-logging-integration">Structured Logging Integration<a href="#structured-logging-integration" class="hash-link" aria-label="Direct link to Structured Logging Integration" title="Direct link to Structured Logging Integration" translate="no">​</a></h2>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ProductService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly ILogger&lt;ProductService&gt; _logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly TelemetryClient _telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ProductService(ILogger&lt;ProductService&gt; logger, TelemetryClient telemetryClient)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger = logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _telemetryClient = telemetryClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task&lt;Product&gt; GetProductAsync(int productId)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        using (_logger.BeginScope(new Dictionary&lt;string, object&gt; { [&quot;ProductId&quot;] = productId }))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _logger.LogInformation(&quot;Retrieving product {ProductId}&quot;, productId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var stopwatch = Stopwatch.StartNew();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Simulate database call</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                await Task.Delay(Random.Shared.Next(50, 200));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                var product = new Product { Id = productId, Name = $&quot;Product {productId}&quot; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                _logger.LogInformation(&quot;Successfully retrieved product {ProductId} in {ElapsedMs}ms&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    productId, stopwatch.ElapsedMilliseconds);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return product;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            catch (Exception ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                _logger.LogError(ex, &quot;Failed to retrieve product {ProductId}&quot;, productId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                throw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="health-checks-integration">Health Checks Integration<a href="#health-checks-integration" class="hash-link" aria-label="Direct link to Health Checks Integration" title="Direct link to Health Checks Integration" translate="no">​</a></h2>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Program.cs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">builder.Services.AddHealthChecks()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .AddApplicationInsightsPublisher();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Custom health check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DatabaseHealthCheck : IHealthCheck</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private readonly ILogger&lt;DatabaseHealthCheck&gt; _logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public DatabaseHealthCheck(ILogger&lt;DatabaseHealthCheck&gt; logger)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _logger = logger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public async Task&lt;HealthCheckResult&gt; CheckHealthAsync(HealthCheckContext context,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CancellationToken cancellationToken = default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Simulate database connectivity check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            await Task.Delay(100, cancellationToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _logger.LogInformation(&quot;Database health check passed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return HealthCheckResult.Healthy(&quot;Database is responsive&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (Exception ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _logger.LogError(ex, &quot;Database health check failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return HealthCheckResult.Unhealthy(&quot;Database is not responsive&quot;, ex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases" translate="no">​</a></h2>
<ul>
<li>Application performance monitoring and optimization</li>
<li>Error tracking and exception analysis</li>
<li>User behavior analytics and usage patterns</li>
<li>Infrastructure monitoring and dependency tracking</li>
<li>Real-time alerting on performance issues</li>
<li>A/B testing and feature flag monitoring</li>
<li>Business intelligence and custom metrics</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use-vs-when-not-to-use">When to Use vs When Not to Use<a href="#when-to-use-vs-when-not-to-use" class="hash-link" aria-label="Direct link to When to Use vs When Not to Use" title="Direct link to When to Use vs When Not to Use" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-application-insights-when">Use Application Insights when<a href="#use-application-insights-when" class="hash-link" aria-label="Direct link to Use Application Insights when" title="Direct link to Use Application Insights when" translate="no">​</a></h3>
<ul>
<li>Azure-hosted applications requiring deep integration</li>
<li>Comprehensive APM solution needed</li>
<li>Integration with Azure Monitor ecosystem important</li>
<li>Built-in analytics and alerting capabilities desired</li>
<li>Automatic instrumentation for common frameworks preferred</li>
<li>Building production applications requiring monitoring</li>
<li>Need automated alerting and diagnostics</li>
<li>Building business-critical applications</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dont-use-when">Don&#x27;t use when<a href="#dont-use-when" class="hash-link" aria-label="Direct link to Don&#x27;t use when" title="Direct link to Don&#x27;t use when" translate="no">​</a></h3>
<ul>
<li>Multi-cloud monitoring strategy required</li>
<li>Cost optimization for simple monitoring needs</li>
<li>Existing monitoring infrastructure in place</li>
<li>Real-time streaming analytics primary requirement</li>
<li>Working primarily with non-Azure infrastructure</li>
<li>Need open-source monitoring solutions</li>
<li>Budget constraints for high-volume applications</li>
<li>Simple applications with minimal monitoring needs</li>
<li>Strict data residency requirements outside Azure regions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="market-alternatives--proscons">Market Alternatives &amp; Pros/Cons<a href="#market-alternatives--proscons" class="hash-link" aria-label="Direct link to Market Alternatives &amp; Pros/Cons" title="Direct link to Market Alternatives &amp; Pros/Cons" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives">Alternatives<a href="#alternatives" class="hash-link" aria-label="Direct link to Alternatives" title="Direct link to Alternatives" translate="no">​</a></h3>
<ul>
<li><strong>Azure</strong>: Azure Monitor Logs, Azure Monitor Metrics</li>
<li><strong>AWS</strong>: CloudWatch, X-Ray</li>
<li><strong>GCP</strong>: Cloud Monitoring, Cloud Trace</li>
<li><strong>Open Source</strong>: Prometheus + Grafana, Jaeger, Zipkin, Elastic APM</li>
<li><strong>Commercial</strong>: New Relic, Datadog, Dynatrace</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros">Pros<a href="#pros" class="hash-link" aria-label="Direct link to Pros" title="Direct link to Pros" translate="no">​</a></h3>
<ul>
<li>Deep integration with Azure services</li>
<li>Automatic instrumentation for ASP.NET Core applications</li>
<li>Rich analytics and query capabilities (KQL)</li>
<li>Integration with Azure DevOps and GitHub</li>
<li>Smart detection of performance anomalies</li>
<li>Comprehensive dependency mapping</li>
<li>Built-in alerting and dashboards</li>
<li>Live metrics streaming</li>
<li>Excellent .NET Core integration</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cons">Cons<a href="#cons" class="hash-link" aria-label="Direct link to Cons" title="Direct link to Cons" translate="no">​</a></h3>
<ul>
<li>Can be expensive for high-volume applications</li>
<li>Data stored in Azure (potential compliance issues)</li>
<li>Learning curve for advanced analytics queries (KQL)</li>
<li>Data retention limits on different tiers</li>
<li>Vendor lock-in to Azure ecosystem</li>
<li>Limited customization compared to open-source alternatives</li>
<li>Sampling can miss important low-frequency events</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cost-considerations">Cost Considerations<a href="#cost-considerations" class="hash-link" aria-label="Direct link to Cost Considerations" title="Direct link to Cost Considerations" translate="no">​</a></h3>
<ul>
<li>Pay-per-GB of data ingested (~$2.30/GB for first 5GB/month)</li>
<li>First 5GB per month included with many Azure services</li>
<li>Data retention: 90 days included, extended retention available</li>
<li>Additional costs for multi-step web tests and alerts</li>
<li>Enterprise features require higher-tier pricing</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kusto-queries-for-analysis">Kusto Queries for Analysis<a href="#kusto-queries-for-analysis" class="hash-link" aria-label="Direct link to Kusto Queries for Analysis" title="Direct link to Kusto Queries for Analysis" translate="no">​</a></h2>
<div class="language-kusto codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-kusto codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Performance analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where timestamp &gt; ago(1h)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| summarize avg(duration), count() by name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| order by avg_duration desc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Error analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exceptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where timestamp &gt; ago(24h)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| summarize count() by type, outerMessage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| order by count_ desc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Custom business metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">customMetrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where name == &quot;BookingValue&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where timestamp &gt; ago(7d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| summarize sum(value), avg(value) by bin(timestamp, 1h)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| render timechart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// User behavior analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">customEvents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where name == &quot;UserAction&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where timestamp &gt; ago(1d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| summarize count() by tostring(customDimensions[&quot;Action&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| order by count_ desc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Dependency performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| where timestamp &gt; ago(1h)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| summarize avg(duration), count(), successRate=avg(toint(success)) by name, type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| order by avg_duration desc</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/dotnet">dotnet</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/application">application</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/insights">insights</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/observability">observability</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/instrumentation">instrumentation</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/apm">APM</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/service">service</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docusaurus_dotnet_overview/docs/tags/metrics">metrics</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/github_actions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GitHub Actions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus_dotnet_overview/docs/Topics/DevOps_and_CI_CD/HealthChecks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">HealthChecks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#short-introduction" class="table-of-contents__link toc-highlight">Short Introduction</a></li><li><a href="#official-definition" class="table-of-contents__link toc-highlight">Official Definition</a></li><li><a href="#setup-and-deployment" class="table-of-contents__link toc-highlight">Setup and Deployment</a><ul><li><a href="#azure-cli-setup" class="table-of-contents__link toc-highlight">Azure CLI Setup</a></li><li><a href="#bicep-template" class="table-of-contents__link toc-highlight">Bicep Template</a></li><li><a href="#minimal-sample-deploy-aspnet-core-app-to-app-service-with-application-insights" class="table-of-contents__link toc-highlight">Minimal Sample: Deploy ASP.NET Core App to App Service with Application Insights</a></li></ul></li><li><a href="#typical-usage-and-integration-with-net-apps" class="table-of-contents__link toc-highlight">Typical Usage and Integration with .NET Apps</a><ul><li><a href="#nuget-packages" class="table-of-contents__link toc-highlight">NuGet Packages</a></li><li><a href="#basic-configuration" class="table-of-contents__link toc-highlight">Basic Configuration</a></li><li><a href="#programcs-configuration" class="table-of-contents__link toc-highlight">Program.cs Configuration</a></li></ul></li><li><a href="#advanced-telemetry-collection" class="table-of-contents__link toc-highlight">Advanced Telemetry Collection</a><ul><li><a href="#custom-telemetry-tracking-service" class="table-of-contents__link toc-highlight">Custom Telemetry Tracking Service</a></li><li><a href="#example-1-controller-integration" class="table-of-contents__link toc-highlight">Example 1: Controller Integration</a></li><li><a href="#example-2-orders-controller" class="table-of-contents__link toc-highlight">Example 2: Orders Controller</a></li></ul></li><li><a href="#custom-telemetry-middleware" class="table-of-contents__link toc-highlight">Custom Telemetry Middleware</a></li><li><a href="#structured-logging-integration" class="table-of-contents__link toc-highlight">Structured Logging Integration</a></li><li><a href="#health-checks-integration" class="table-of-contents__link toc-highlight">Health Checks Integration</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a></li><li><a href="#when-to-use-vs-when-not-to-use" class="table-of-contents__link toc-highlight">When to Use vs When Not to Use</a><ul><li><a href="#use-application-insights-when" class="table-of-contents__link toc-highlight">Use Application Insights when</a></li><li><a href="#dont-use-when" class="table-of-contents__link toc-highlight">Don&#39;t use when</a></li></ul></li><li><a href="#market-alternatives--proscons" class="table-of-contents__link toc-highlight">Market Alternatives &amp; Pros/Cons</a><ul><li><a href="#alternatives" class="table-of-contents__link toc-highlight">Alternatives</a></li><li><a href="#pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#cons" class="table-of-contents__link toc-highlight">Cons</a></li><li><a href="#cost-considerations" class="table-of-contents__link toc-highlight">Cost Considerations</a></li></ul></li><li><a href="#kusto-queries-for-analysis" class="table-of-contents__link toc-highlight">Kusto Queries for Analysis</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus_dotnet_overview/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus_dotnet_overview/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/sreee2001" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Srikanth Tangella. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>